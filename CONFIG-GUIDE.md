# Claude Code çŠ¶æ€æ é…ç½®æŒ‡å—

## é…ç½®æ–‡ä»¶ä½ç½®

ç³»ç»Ÿä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š

1. `.claude/cc-statusbar-config.json` ï¼ˆé¡¹ç›®çº§é…ç½®ï¼‰
2. `config.json` ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰
3. `~/.claude/statusbar-config.json` ï¼ˆç”¨æˆ·çº§é…ç½®ï¼‰

å¦‚æœä¸å­˜åœ¨é…ç½®æ–‡ä»¶ï¼Œå°†ä½¿ç”¨å†…ç½®é»˜è®¤é…ç½®ã€‚

## å¿«é€Ÿå¼€å§‹

1. **å¤åˆ¶é»˜è®¤é…ç½®**
   ```bash
   cp .claude/cc-statusbar-config.json .claude/my-config.json
   ```

2. **ä¿®æ”¹API URL**
   æ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° `api.url` å­—æ®µï¼Œæ›¿æ¢ä¸ºä½ çš„Claudeç®¡ç†é¡µé¢URLï¼š
   ```json
   {
     "api": {
       "url": "https://your-claude-admin.com/api-stats?apiId=your-id"
     }
   }
   ```

3. **é‡æ–°åŠ è½½çŠ¶æ€æ **
   é…ç½®ä¿®æ”¹åä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯ã€‚

## é…ç½®é¡¹è¯¦è§£

### APIé…ç½® (`api`)

| å­—æ®µ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `url` | string | - | **å¿…å¡«** Claudeç®¡ç†é¡µé¢çš„å®Œæ•´URL |
| `timeout` | number | 15000 | è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |
| `retryAttempts` | number | 3 | å¤±è´¥é‡è¯•æ¬¡æ•° |
| `retryDelay` | number | 1000 | é‡è¯•å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰ |
| `cacheTimeout` | number | 30000 | ç¼“å­˜æœ‰æ•ˆæœŸï¼ˆæ¯«ç§’ï¼‰ |

**è·å–API URLçš„æ–¹æ³•ï¼š**
1. ç™»å½•Claudeç®¡ç†åå°
2. æ‰¾åˆ°APIç»Ÿè®¡æˆ–ç”¨é‡é¡µé¢
3. å¤åˆ¶å®Œæ•´çš„URLï¼ˆåŒ…æ‹¬apiIdå‚æ•°ï¼‰

### æ˜¾ç¤ºé…ç½® (`display`)

| å­—æ®µ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `compactMode` | boolean | true | ç´§å‡‘æ¨¡å¼ï¼Œå‡å°‘ç©ºæ ¼ |
| `showRequests` | boolean | true | æ˜¾ç¤ºä»Šæ—¥è¯·æ±‚æ•° |
| `showTokens` | boolean | true | æ˜¾ç¤ºä»Šæ—¥Tokenæ•° |
| `showCost` | boolean | true | æ˜¾ç¤ºä»Šæ—¥è´¹ç”¨ |
| `showPercentage` | boolean | true | æ˜¾ç¤ºè´¹ç”¨ç™¾åˆ†æ¯” |
| `showTrends` | boolean | true | æ˜¾ç¤ºè¶‹åŠ¿ç®­å¤´ |
| `showApiStats` | boolean | false | æ˜¾ç¤ºAPIæˆåŠŸç‡ |
| `maxLength` | number | 80 | çŠ¶æ€æ æœ€å¤§é•¿åº¦ |

**è¾“å‡ºæ ¼å¼ç¤ºä¾‹ï¼š**
- ç´§å‡‘æ¨¡å¼ï¼š`ğŸŸ¢Claude 42R|1.2MT|$2.45(12%)`
- è¯¦ç»†æ¨¡å¼ï¼š`ğŸŸ¢ Claude | 42 Requests | 1.2M Tokens | $2.45 (12%)`

### çŠ¶æ€æ é…ç½® (`statusbar`)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `updateInterval` | number | æ›´æ–°é—´éš”ï¼ˆç§’ï¼‰ |
| `separator` | string | ä¿¡æ¯åˆ†éš”ç¬¦ |
| `icons` | object | çŠ¶æ€å›¾æ ‡é…ç½® |

**å›¾æ ‡é…ç½®ï¼š**
```json
{
  "icons": {
    "normal": "ğŸŸ¢",     // æ­£å¸¸çŠ¶æ€
    "warning": "ğŸŸ¡",    // è­¦å‘ŠçŠ¶æ€ï¼ˆè´¹ç”¨>60%ï¼‰
    "critical": "ğŸ”´",   // ä¸¥é‡çŠ¶æ€ï¼ˆè´¹ç”¨>80%ï¼‰
    "error": "âŒ",      // é”™è¯¯çŠ¶æ€ï¼ˆè¿æ¥å¤±è´¥ï¼‰
    "trending_up": "ğŸ“ˆ", // è´¹ç”¨ä¸Šå‡è¶‹åŠ¿
    "trending_down": "ğŸ“‰" // è´¹ç”¨ä¸‹é™è¶‹åŠ¿
  }
}
```

### å‘Šè­¦é…ç½® (`alerts`)

| å­—æ®µ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `costWarningThreshold` | number | 60 | è´¹ç”¨è­¦å‘Šé˜ˆå€¼ï¼ˆ%ï¼‰ |
| `costCriticalThreshold` | number | 80 | ä¸¥é‡è­¦å‘Šé˜ˆå€¼ï¼ˆ%ï¼‰ |

## é¢„è®¾é…ç½®æ¨¡æ¿

### 1. æœ€å°åŒ–é…ç½®
é€‚åˆå±å¹•ç©ºé—´æœ‰é™çš„æƒ…å†µï¼š
```bash
cp config-templates/minimal-config.json .claude/cc-statusbar-config.json
```

### 2. è¯¦ç»†é…ç½®
æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨ä¿¡æ¯ï¼š
```bash
cp config-templates/detailed-config.json .claude/cc-statusbar-config.json
```

## å¸¸è§é—®é¢˜

### 1. çŠ¶æ€æ æ˜¾ç¤º"è¿æ¥å¤±è´¥"
- æ£€æŸ¥API URLæ˜¯å¦æ­£ç¡®
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
- æ£€æŸ¥APIæ¥å£æ˜¯å¦éœ€è¦è®¤è¯

### 2. æ•°æ®æ›´æ–°ä¸åŠæ—¶
- è°ƒæ•´ `statusbar.updateInterval` å‡å°‘æ›´æ–°é—´éš”
- æ£€æŸ¥ `api.cacheTimeout` è®¾ç½®
- å¯ç”¨debugæ¨¡å¼æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

### 3. çŠ¶æ€æ å†…å®¹è¢«æˆªæ–­
- å¢åŠ  `display.maxLength` å€¼
- å¯ç”¨ `display.compactMode`
- å…³é—­ä¸å¿…è¦çš„æ˜¾ç¤ºé¡¹

### 4. å¯ç”¨è°ƒè¯•æ¨¡å¼
```json
{
  "debug": {
    "enableLogging": true,
    "logLevel": "debug"
  }
}
```
ç„¶åæ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼š`.claude/statusbar.log`

## é…ç½®ç”Ÿæ•ˆ

é…ç½®æ–‡ä»¶ä¿®æ”¹åä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯Claude Codeã€‚å¦‚æœé…ç½®æœ‰è¯­æ³•é”™è¯¯ï¼Œç³»ç»Ÿå°†ä½¿ç”¨é»˜è®¤é…ç½®å¹¶åœ¨æ—¥å¿—ä¸­è®°å½•é”™è¯¯ä¿¡æ¯ã€‚

## é…ç½®éªŒè¯

æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®ï¼š
```bash
node statusline.js
```

å¦‚æœé…ç½®æ­£ç¡®ï¼Œåº”è¯¥è¾“å‡ºç±»ä¼¼ï¼š`ğŸŸ¢Claude 42R|1.2MT|$2.45(12%)`